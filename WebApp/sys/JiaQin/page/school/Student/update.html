<div style="width:500px;" windowTitle="编辑学生用户">
    <eye:if test="${isnull(studentInfo)}">
        学生用户已删除，无法编辑
        <eye:endpage/>
    </eye:if>
    
    <script>
        function Validate(form, btn) {
            var vForm = new VMFormValidator(form, {
                'errorDisplay': 'element',
                validateElementMultiple: true
            });

            vForm.required("StudentName", "请输入学生姓名");
            vForm.required("Gender", "请选择学生性别");
            vForm.required("Age", "请输入学生年龄");
            vForm.required("Times", "请输入剩余托管次数");
            vForm.required("ParentName", "请输入家长姓名");
            vForm.required("Phone", "请输入手机号码");

            var flag = vForm.executeAllValidators();
            return flag;
        }

    </script>
    <form action="UpdateSchoolStudentEvent.aspx" method="post" enctype="multipart/form-data">        
        <eye:set name="stuVipUserInfo" value="${studentInfo.VipUserInfo}"/>
        <eye:set name="parentVipUserInfo" value="${studentInfo.ParentInfo.VipUserInfo}"/>
        <input type="hidden" name="Id" value="${studentInfo.Id}"/>
        <div class="hold">
            <label>姓　　名：<input type="text" name="StudentName" value="${stuVipUserInfo.Name}"/></label>
            <span class="msg"></span>
        </div>
        <div class="hold">
            <label>性　　别：
                    <select name="Gender">
                        <option value="男" ${iif(stuVipUserInfo.Gender is '男','selected','')}>男</option>
                        <option value="女" ${iif(stuVipUserInfo.Gender is '女','selected','')}>女</option>
                    </select>    
            </label>
            <span class="msg"></span>
        </div>
        <div class="hold">
            <label>年　　龄：<input type="number" name="Age" value="${studentInfo.Age}"/></label>
            <span class="msg"></span>
        </div>
        <div class="hold">
            <label>次　　数：<input type="number" readonly  name="Times" value="${studentInfo.Times}"/></label>
            <span class="msg">剩余托管次数</span>
        </div>
        <div class="hold">
            <label>家长姓名：<input type="text" name="ParentName" value="${parentVipUserInfo.Name}"/></label>
            <span class="msg"></span>
        </div>
        <div class="hold">
            <label>手机号码：<input type="text" name="Phone" value="${parentVipUserInfo.Phone}"/></label>
            <span class="msg">将作为登陆用户名</span>
        </div>
         <div class="hold">
            <label>标签：</label>
            <span class="msg">学生相关的标签</span>
             <br/><br/>
             <eye:foreach collection="${tagList}" var="tag" index="index">
                 <eye:set name="ck" value=""/>
                 
                 <eye:if test="${this.ContainsTag(tag,userTagList)}">
                    <eye:set name="ck" value="checked"/>
                 </eye:if>
                 <label style="display:inline-block; width:100px"><input ${ck} type="checkbox" name="tag" value="${tag.Id}"/>　${tag.Name}</label>       
                 
             </eye:foreach>
        </div>

        <div class="hold">
            <input type="button" class="btn" onclick="SubmitForm3('css:form', Validate,null, this)"  value="提交"/>
        </div>
                
    </form>
</div>